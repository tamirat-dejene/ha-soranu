syntax = "proto3";

package user;

option go_package = "/userpb;userpb";

message User {
  string user_id = 1;
  string username = 2;
  string email = 3;
  repeated Address addresses = 4;
}

message Address {
  string value = 1;
}

service UserService {
  rpc GetUser(GetUserRequest) returns (GetUserResponse);
  rpc UpdateUser(UpdateUserRequest) returns (UpdateUserResponse);

  rpc GetUserAddresses(GetUserAddressesRequest) returns (GetUserAddressesResponse);
  rpc AddUserAddress(AddUserAddressRequest) returns (AddUserAddressResponse);
  rpc RemoveUserAddress(RemoveUserAddressRequest) returns (RemoveUserAddressResponse);
}

message GetUserRequest {
  string user_id = 1;
}

message GetUserResponse {
  User user = 1;
}

message UpdateUserRequest {
  string user_id = 1;
  string username = 2;
  string email = 3;
}

message UpdateUserResponse {
  string message = 1;
}

message GetUserAddressesRequest {
  string user_id = 1;
}

message GetUserAddressesResponse {
  repeated Address addresses = 1;
}

message AddUserAddressRequest {
  string user_id = 1;
  string address = 2;
}

message AddUserAddressResponse {
  string message = 1;
}

message RemoveUserAddressRequest {
  string user_id = 1;
  string address = 2;
}

message RemoveUserAddressResponse {
  string message = 1;
}
